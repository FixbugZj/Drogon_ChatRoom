//this file is generated by program(drogon_ctl) automatically,don't modify it!
#include "login.h"
#include <drogon/utils/OStringStream.h>
#include <string>
#include <map>
#include <vector>
#include <set>
#include <iostream>
#include <unordered_map>
#include <unordered_set>
#include <algorithm>
#include <list>
#include <deque>
#include <queue>
using namespace drogon;
std::string login::genText(const DrTemplateData& login_view_data)
{
	drogon::OStringStream login_tmp_stream;
	std::string layoutName{""};
	login_tmp_stream << "<!DOCTYPE html>\n";
	login_tmp_stream << "<html lang=\"zh-CN\">\n";
login_tmp_stream<<"\n";
	login_tmp_stream << "<head>\n";
	login_tmp_stream << "    <meta charset=\"UTF-8\">\n";
	login_tmp_stream << "    <meta name=\"viewport\" content=\"width=device-width, initial-scale=1.0\">\n";
	login_tmp_stream << "    <title>Login Page</title>\n";
	login_tmp_stream << "    <style>\n";
	login_tmp_stream << "        body {\n";
	login_tmp_stream << "            font-family: Arial, sans-serif;\n";
	login_tmp_stream << "            background-color: #f4f4f4;\n";
	login_tmp_stream << "            margin: 0;\n";
	login_tmp_stream << "            padding: 0;\n";
	login_tmp_stream << "            /* display: flex;\n";
	login_tmp_stream << "            justify-content: center;\n";
	login_tmp_stream << "            align-items: center; */\n";
	login_tmp_stream << "            height: 100vh;\n";
	login_tmp_stream << "            width: 100vw;\n";
	login_tmp_stream << "            position: relative;\n";
	login_tmp_stream << "        }\n";
	login_tmp_stream << "        body>h2{\n";
	login_tmp_stream << "            width: 300px;\n";
	login_tmp_stream << "            position: absolute;\n";
	login_tmp_stream << "            top: 10%;\n";
	login_tmp_stream << "            left: 75%;\n";
	login_tmp_stream << "            transform: translate(-50%, -50%);\n";
	login_tmp_stream << "            font-size: 35px;\n";
	login_tmp_stream << "        }\n";
	login_tmp_stream << "        .login-container {\n";
	login_tmp_stream << "            position: absolute;\n";
	login_tmp_stream << "            top: 50%;\n";
	login_tmp_stream << "            left: 75%;\n";
	login_tmp_stream << "            transform: translate(-50%, -50%);\n";
	login_tmp_stream << "            background-color: #fff;\n";
	login_tmp_stream << "            padding: 20px;\n";
	login_tmp_stream << "            border-radius: 15px;\n";
	login_tmp_stream << "            box-shadow: 0px 0px 10px rgba(0, 0, 0, 0.1);\n";
	login_tmp_stream << "            width: 400px;\n";
	login_tmp_stream << "            height: 400px;\n";
	login_tmp_stream << "        }\n";
login_tmp_stream<<"\n";
	login_tmp_stream << "        .login-container h2 {\n";
	login_tmp_stream << "            text-align: center;\n";
	login_tmp_stream << "        }\n";
login_tmp_stream<<"\n";
	login_tmp_stream << "        .login-container form {\n";
	login_tmp_stream << "            margin-top: 20px;\n";
	login_tmp_stream << "        }\n";
login_tmp_stream<<"\n";
	login_tmp_stream << "        .login-container form input {\n";
	login_tmp_stream << "            outline-color: #7acc35;\n";
	login_tmp_stream << "            width: 100%;\n";
	login_tmp_stream << "            padding: 10px;\n";
	login_tmp_stream << "            margin-bottom: 10px;\n";
	login_tmp_stream << "            border: 1px solid #ccc;\n";
	login_tmp_stream << "            border-radius: 12px;\n";
	login_tmp_stream << "            box-sizing: border-box;\n";
	login_tmp_stream << "            height: 40px;\n";
	login_tmp_stream << "        }\n";
login_tmp_stream<<"\n";
	login_tmp_stream << "        .login-container form button {\n";
	login_tmp_stream << "            margin-top: 50px;\n";
	login_tmp_stream << "            width: 100%;\n";
	login_tmp_stream << "            padding: 10px;\n";
	login_tmp_stream << "            background-color: #7acc35;\n";
	login_tmp_stream << "            height: 40px;\n";
	login_tmp_stream << "            border: none;\n";
	login_tmp_stream << "            color: #fff;\n";
	login_tmp_stream << "            border-radius: 12px;\n";
	login_tmp_stream << "            cursor: pointer;\n";
	login_tmp_stream << "        }\n";
login_tmp_stream<<"\n";
	login_tmp_stream << "        .login-container form button:hover {\n";
	login_tmp_stream << "            background-color: #87d149;\n";
	login_tmp_stream << "        }\n";
login_tmp_stream<<"\n";
	login_tmp_stream << "        .userNameText {\n";
	login_tmp_stream << "            color: rgb(166, 166, 166);\n";
	login_tmp_stream << "            font-size: 13px;\n";
	login_tmp_stream << "            margin-top: 20px;\n";
	login_tmp_stream << "            margin-bottom: 12px;\n";
	login_tmp_stream << "        }\n";
	login_tmp_stream << "        .loginText{\n";
	login_tmp_stream << "            cursor:pointer;\n";
	login_tmp_stream << "            font-size: 20px;\n";
	login_tmp_stream << "            font-weight: 800;\n";
	login_tmp_stream << "            color: rgba(0, 0, 0, 0.416);\n";
	login_tmp_stream << "        }\n";
	login_tmp_stream << "        .registText{\n";
	login_tmp_stream << "            cursor:pointer;\n";
	login_tmp_stream << "            position: absolute;\n";
	login_tmp_stream << "            left: 25%;\n";
	login_tmp_stream << "            top: 0;\n";
	login_tmp_stream << "            font-size: 20px;\n";
	login_tmp_stream << "            font-weight: 800;\n";
	login_tmp_stream << "            color: rgba(0, 0, 0, 0.416);\n";
	login_tmp_stream << "        }\n";
	login_tmp_stream << "        .textColor{\n";
	login_tmp_stream << "            color: rgba(0, 0, 0, 1);\n";
	login_tmp_stream << "        }\n";
	login_tmp_stream << "        #button{\n";
	login_tmp_stream << "            font-size: 15px;\n";
	login_tmp_stream << "        }\n";
	login_tmp_stream << "    </style>\n";
	login_tmp_stream << "</head>\n";
login_tmp_stream<<"\n";
	login_tmp_stream << "<body>\n";
login_tmp_stream<<"\n";
login_tmp_stream<<"\n";
	login_tmp_stream << "    <h2>欢迎来到于森乐园</h2>\n";
	login_tmp_stream << "    <div class=\"login-container\">\n";
	login_tmp_stream << "        <div style=\"position: relative;margin-bottom: 35px;margin-top: 15px;\">\n";
	login_tmp_stream << "            <div id=\"toLogin\" class=\"loginText textColor\">登录账号</div>\n";
	login_tmp_stream << "            <div id=\"toRegist\" class=\"registText\">注册账号</div>\n";
	login_tmp_stream << "        </div>\n";
	login_tmp_stream << "        <!-- <h2>Login</h2> -->\n";
	login_tmp_stream << "        <form id=\"login-form\" method=\"post\">\n";
	login_tmp_stream << "            <div class=\"userNameText\">账号</div>\n";
	login_tmp_stream << "            <input type=\"text\" name=\"username\" placeholder=\"请输入账号\">\n";
	login_tmp_stream << "            <div class=\"userNameText\">密码</div>\n";
	login_tmp_stream << "            <input type=\"password\" name=\"password\" placeholder=\"请输入密码\">\n";
	login_tmp_stream << "            <button id=\"button\" type=\"submit\">登录</button>\n";
	login_tmp_stream << "        </form>\n";
	login_tmp_stream << "    </div>\n";
	login_tmp_stream << "    <script>\n";
	login_tmp_stream << "        let loginStatu = 'ture';\n";
	login_tmp_stream << "        let toRegist = document.getElementById('toRegist');\n";
	login_tmp_stream << "        let toLogin = document.getElementById('toLogin');\n";
	login_tmp_stream << "        let button = document.getElementById('button');\n";
	login_tmp_stream << "        let text = button.textContent\n";
	login_tmp_stream << "        toLogin.onclick = function(event) {\n";
	login_tmp_stream << "            loginStatu = 'true';\n";
	login_tmp_stream << "            if(toLogin.classList[1]) return;\n";
	login_tmp_stream << "            toLogin.classList.add('textColor');\n";
	login_tmp_stream << "            toRegist.classList.remove('textColor');\n";
	login_tmp_stream << "            var newText = document.createTextNode(\"登录\");\n";
	login_tmp_stream << "            button.innerHTML = \"\"; // 清空按钮内容\n";
	login_tmp_stream << "            button.appendChild(newText); // 添加新文本节点\n";
	login_tmp_stream << "        };\n";
	login_tmp_stream << "        toRegist.onclick = () =>{\n";
	login_tmp_stream << "            loginStatu = 'false';\n";
	login_tmp_stream << "            if(toRegist.classList[1]) return;\n";
	login_tmp_stream << "            toRegist.classList.add('textColor');\n";
	login_tmp_stream << "            toLogin.classList.remove('textColor');\n";
	login_tmp_stream << "            var newText = document.createTextNode(\"注册\");\n";
	login_tmp_stream << "            button.innerHTML = \"\"; // 清空按钮内容\n";
	login_tmp_stream << "            button.appendChild(newText); // 添加新文本节点\n";
	login_tmp_stream << "        }\n";
	login_tmp_stream << "        document.addEventListener(\"DOMContentLoaded\", function () {\n";
	login_tmp_stream << "            var form = document.getElementById(\"login-form\");\n";
	login_tmp_stream << "            form.addEventListener(\"submit\", function (event) {\n";
	login_tmp_stream << "                event.preventDefault();\n";
	login_tmp_stream << "                const form = event.target;\n";
	login_tmp_stream << "                const data = {};\n";
	login_tmp_stream << "                for (let i = 0; i < form.elements.length - 1; i++) {\n";
	login_tmp_stream << "                    const element = form.elements[i];\n";
	login_tmp_stream << "                    if (element.name) {\n";
	login_tmp_stream << "                        data[element.name] = element.value;\n";
	login_tmp_stream << "                    }\n";
	login_tmp_stream << "                }\n";
	login_tmp_stream << "                // console.log(data);\n";
	login_tmp_stream << "                if(loginStatu == 'true')\n";
	login_tmp_stream << "                {\n";
	login_tmp_stream << "                const xhr = new XMLHttpRequest();\n";
	login_tmp_stream << "                xhr.open('POST', 'http://192.168.205.134:8000/login'); // 替换为您的服务器端接口地址\n";
	login_tmp_stream << "                xhr.setRequestHeader('Content-Type', 'application/json');\n";
	login_tmp_stream << "                xhr.send(JSON.stringify(data));\n";
	login_tmp_stream << "                xhr.onload = function () {\n";
	login_tmp_stream << "                    if (xhr.status === 200) {\n";
	login_tmp_stream << "                        alert('Login successful');\n";
	login_tmp_stream << "                        location.href = '/user/chat';\n";
	login_tmp_stream << "                    } else {\n";
	login_tmp_stream << "                        const response = JSON.parse(xhr.responseText);\n";
	login_tmp_stream << "                        alert(response.error);\n";
	login_tmp_stream << "                    }\n";
	login_tmp_stream << "                    };\n";
	login_tmp_stream << "                }else{\n";
	login_tmp_stream << "                const xhr = new XMLHttpRequest();\n";
	login_tmp_stream << "                xhr.open('POST', 'http://192.168.205.134:8000/register'); // 替换为您的服务器端接口地址\n";
	login_tmp_stream << "                xhr.setRequestHeader('Content-Type', 'application/json');\n";
	login_tmp_stream << "                xhr.send(JSON.stringify(data));\n";
	login_tmp_stream << "                xhr.onload = function () {\n";
	login_tmp_stream << "                    if (xhr.status === 200) {\n";
	login_tmp_stream << "                        alert('registe successful');\n";
	login_tmp_stream << "                    } else {\n";
	login_tmp_stream << "                        const response = JSON.parse(xhr.responseText);\n";
	login_tmp_stream << "                        alert(response.error);\n";
	login_tmp_stream << "                    }\n";
	login_tmp_stream << "                    };\n";
	login_tmp_stream << "                }\n";
	login_tmp_stream << "                \n";
	login_tmp_stream << "            });\n";
	login_tmp_stream << "        });\n";
	login_tmp_stream << "    </script>\n";
	login_tmp_stream << "</body>\n";
login_tmp_stream<<"\n";
	login_tmp_stream << "</html>\n";
if(layoutName.empty())
{
std::string ret{std::move(login_tmp_stream.str())};
return ret;
}else
{
auto templ = DrTemplateBase::newTemplate(layoutName);
if(!templ) return "";
HttpViewData data = login_view_data;
auto str = std::move(login_tmp_stream.str());
if(!str.empty() && str[str.length()-1] == '\n') str.resize(str.length()-1);
data[""] = std::move(str);
return templ->genText(data);
}
}
